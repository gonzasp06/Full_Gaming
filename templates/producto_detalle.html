<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ producto[1] }} ‚Äî FullGaming</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/logo_solo.png') }}">
    <link rel="stylesheet"  href="{{ url_for('static', filename='css/index.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        /* ================================================ */
        /*  DETALLE PRODUCTO ‚Äî TEMA OSCURO PREMIUM          */
        /* ================================================ */

        /* --- Container principal --- */
        .pd-container {
            max-width: 1140px;
            margin: 0 auto 60px;
            padding: 30px 24px 10px;
        }
        .pd-card {
            background: linear-gradient(135deg, #1a1f3a 0%, #2d1f4f 100%);
            border: 1px solid rgba(106, 68, 242, 0.2);
            border-radius: 20px;
            padding: 36px 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4), 0 0 50px rgba(106, 68, 242, 0.06);
        }

        /* --- Bot√≥n volver override --- */
        .btn-volver-detalle {
            margin: 20px auto 0;
            max-width: 1140px;
            display: flex;
            padding: 0 24px;
        }

        /* --- Imagen --- */
        .pd-img-wrap {
            background: linear-gradient(145deg, rgba(106, 68, 242, 0.08), rgba(30, 25, 60, 0.6));
            border: 1px solid rgba(106, 68, 242, 0.15);
            border-radius: 18px;
            padding: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 2px 12px rgba(0, 0, 0, 0.2);
            min-height: 380px;
        }
        .pd-img-wrap img {
            width: 100%;
            max-height: 500px;
            object-fit: contain;
            border-radius: 12px;
            filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.3));
        }

        /* --- Info column --- */
        .pd-info {
            display: flex;
            flex-direction: column;
            gap: 0;
            height: 100%;
        }

        /* Badge ID */
        .pd-badge-id {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            color: #8b82d4;
            background: rgba(106, 68, 242, 0.1);
            border: 1px solid rgba(106, 68, 242, 0.2);
            letter-spacing: 0.5px;
            width: fit-content;
            margin-bottom: 10px;
        }

        /* Categor√≠a badge */
        .pd-cat-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: #B5B3F2;
            background: rgba(106, 68, 242, 0.12);
            border: 1px solid rgba(106, 68, 242, 0.18);
            width: fit-content;
            margin-bottom: 10px;
            letter-spacing: 0.3px;
        }

        /* T√≠tulo */
        .pd-titulo {
            font-size: 2.2rem;
            font-weight: 800;
            color: #fff;
            line-height: 1.2;
            margin-bottom: 18px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            letter-spacing: -0.3px;
        }

        /* Separador */
        .pd-sep {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(106, 68, 242, 0.3), transparent);
            margin: 4px 0 18px;
            border: none;
        }

        /* Precio block */
        .pd-precio-block {
            margin-bottom: 16px;
        }
        .pd-precio-label {
            font-size: 11px;
            font-weight: 700;
            color: #8b82d4;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px;
        }
        .pd-precio {
            font-family: 'Horizon', sans-serif;
            font-size: 2.4rem;
            font-weight: 800;
            color: #6C63FF;
            line-height: 1.1;
            text-shadow: 0 0 30px rgba(108, 99, 255, 0.2);
        }
        .pd-precio .pd-precio-symbol {
            font-size: 1.6rem;
            font-weight: 700;
            opacity: 0.75;
            margin-right: 2px;
        }

        /* Stock badge */
        .pd-stock-badge {
            display: inline-flex;
            align-items: center;
            gap: 7px;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 0.3px;
            width: fit-content;
            margin-bottom: 4px;
        }
        .pd-stock-badge .pd-stock-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
        }
        .pd-stock-badge.stock-ok {
            background: rgba(46, 204, 113, 0.12);
            color: #2ecc71;
            border: 1px solid rgba(46, 204, 113, 0.2);
        }
        .pd-stock-badge.stock-ok .pd-stock-dot { background: #2ecc71; box-shadow: 0 0 6px rgba(46, 204, 113, 0.4); }
        .pd-stock-badge.stock-low {
            background: rgba(243, 156, 18, 0.12);
            color: #f39c12;
            border: 1px solid rgba(243, 156, 18, 0.2);
        }
        .pd-stock-badge.stock-low .pd-stock-dot { background: #f39c12; box-shadow: 0 0 6px rgba(243, 156, 18, 0.4); }
        .pd-stock-badge.stock-out {
            background: rgba(231, 76, 60, 0.12);
            color: #e74c3c;
            border: 1px solid rgba(231, 76, 60, 0.2);
        }
        .pd-stock-badge.stock-out .pd-stock-dot { background: #e74c3c; box-shadow: 0 0 6px rgba(231, 76, 60, 0.4); }

        /* Separador 2 */

        /* Beneficios */
        .pd-beneficios {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 22px;
        }
        .pd-beneficio {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 9px 16px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(106, 68, 242, 0.08);
            border-radius: 12px;
            transition: all 0.2s;
        }
        .pd-beneficio:hover {
            background: rgba(106, 68, 242, 0.06);
            border-color: rgba(106, 68, 242, 0.18);
        }
        .pd-beneficio img {
            width: 22px;
            height: 22px;
            object-fit: contain;
            filter: brightness(0) invert(0.75) sepia(1) saturate(3) hue-rotate(225deg);
        }
        .pd-beneficio-texto {
            color: #b8b4d9;
            font-size: 14px;
            font-weight: 500;
        }
        .pd-beneficio-link {
            margin-left: auto;
            font-size: 12px;
            color: #6C63FF;
            text-decoration: none;
            font-weight: 600;
            white-space: nowrap;
        }
        .pd-beneficio-link:hover { text-decoration: underline; }

        /* ===== MODAL GARANT√çA ===== */
        .gar-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.65);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: garFadeIn 0.25s ease;
        }
        .gar-overlay.visible { display: flex; }
        @keyframes garFadeIn { from { opacity: 0; } to { opacity: 1; } }

        .gar-modal {
            width: 100%;
            max-width: 640px;
            max-height: 85vh;
            overflow-y: auto;
            background: linear-gradient(135deg, #1a1f3a 0%, #2d1f4f 100%);
            border: 1px solid rgba(106, 68, 242, 0.25);
            border-radius: 20px;
            padding: 32px 30px 28px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: garSlideUp 0.3s ease;
        }
        @keyframes garSlideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        .gar-modal::-webkit-scrollbar { width: 6px; }
        .gar-modal::-webkit-scrollbar-track { background: transparent; }
        .gar-modal::-webkit-scrollbar-thumb { background: rgba(106, 68, 242, 0.3); border-radius: 3px; }

        .gar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 22px;
        }
        .gar-header-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .gar-header-left .gar-icon {
            font-size: 28px;
        }
        .gar-header h2 {
            color: #fff;
            font-size: 20px;
            font-weight: 800;
            margin: 0;
        }
        .gar-close {
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #aaa;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .gar-close:hover { background: rgba(231, 76, 60, 0.15); color: #e74c3c; border-color: rgba(231, 76, 60, 0.3); }

        .gar-section {
            margin-bottom: 20px;
        }
        .gar-section-title {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #fff;
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        .gar-section-title .gar-sec-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 26px;
            height: 26px;
            border-radius: 7px;
            background: linear-gradient(135deg, #6A44F2, #3C308C);
            font-size: 13px;
            flex-shrink: 0;
        }
        .gar-text {
            color: #d4d0f0;
            font-size: 13px;
            line-height: 1.75;
            margin: 0 0 8px;
        }
        .gar-list {
            list-style: none;
            padding: 0;
            margin: 8px 0 0;
        }
        .gar-list li {
            position: relative;
            padding-left: 20px;
            color: #d4d0f0;
            font-size: 13px;
            line-height: 1.7;
            margin-bottom: 4px;
        }
        .gar-list li::before {
            content: '‚Ä∫';
            position: absolute;
            left: 4px;
            color: #6A44F2;
            font-weight: 800;
            font-size: 15px;
        }
        .gar-list.check li::before { content: '‚úì'; color: #2ecc71; font-size: 12px; left: 2px; }
        .gar-list.cross li::before { content: '‚úó'; color: #e74c3c; font-size: 12px; left: 2px; }

        .gar-notice {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 12px 16px;
            border-radius: 10px;
            font-size: 12px;
            line-height: 1.6;
            margin-top: 10px;
        }
        .gar-notice.info {
            background: rgba(106, 68, 242, 0.08);
            border: 1px solid rgba(106, 68, 242, 0.18);
            color: #c5c0f0;
        }
        .gar-notice.warn {
            background: rgba(243, 156, 18, 0.06);
            border: 1px solid rgba(243, 156, 18, 0.15);
            color: #e6c37e;
        }
        .gar-notice .gar-n-icon { font-size: 16px; flex-shrink: 0; margin-top: 1px; }

        .gar-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(106, 68, 242, 0.2), transparent);
            margin: 16px 0;
            border: none;
        }

        @media (max-width: 600px) {
            .gar-modal { padding: 24px 18px 20px; }
        }

        /* Bot√≥n CTA */
        .pd-btn-carrito {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            padding: 15px 28px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            color: #fff;
            background: linear-gradient(135deg, #6A44F2, #3C308C);
            border: none;
            cursor: pointer;
            box-shadow: 0 6px 24px rgba(106, 68, 242, 0.35);
            transition: all 0.25s ease;
            letter-spacing: 0.3px;
            text-transform: none;
        }
        .pd-btn-carrito:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 35px rgba(106, 68, 242, 0.5);
        }
        .pd-btn-carrito:active:not(:disabled) {
            transform: translateY(-1px);
        }
        .pd-btn-carrito:disabled {
            background: linear-gradient(135deg, #444, #333);
            color: #888;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Descripci√≥n */
        .pd-descripcion {
            margin-top: 36px;
            padding-top: 30px;
            border-top: 1px solid rgba(106, 68, 242, 0.15);
        }
        .pd-descripcion-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 18px;
        }
        .pd-descripcion-header h2 {
            font-family: 'Horizon', sans-serif;
            font-size: 1.3rem;
            font-weight: 700;
            color: #B5B3F2;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 0;
        }
        .pd-descripcion-header::before {
            content: 'üìù';
            font-size: 20px;
        }
        .pd-descripcion-body {
            max-width: 900px;
            color: #c4c0e0;
            line-height: 1.8;
            font-size: 15px;
        }
        .pd-descripcion-body p { margin-bottom: 10px; }
        .pd-descripcion-body strong { color: #fff; }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .pd-card { padding: 24px 20px; }
            .pd-titulo { font-size: 1.6rem; }
            .pd-precio { font-size: 2rem; }
            .pd-img-wrap { padding: 16px; min-height: auto; }
        }
    </style>
</head>
<body>
    <header>
        {% include 'navbar.html' %}
    </header>

    <main>
        <a href="javascript:history.back()" class="btn-volver-detalle">
            <i class="fas fa-arrow-left"></i>
            <span>Volver</span>
        </a>

        <div class="pd-container">
        <div class="pd-card">
        <div class="row g-4 g-lg-5">
            <!-- FOTO -->
            <div class="col-md-5">
                <div class="pd-img-wrap">
                    {% set foto = producto[6] | replace('\\', '/') if producto[6] else '' %}
                    {% if foto and foto.startswith('static/') %}
                        <img src="{{ url_for('static', filename=foto.split('static/')[1]) }}" alt="{{ producto[1] }}">
                    {% elif foto and foto.startswith('/') %}
                        <img src="{{ foto }}" alt="{{ producto[1] }}">
                    {% elif foto %}
                        <img src="/{{ foto }}" alt="{{ producto[1] }}">
                    {% else %}
                        <img src="{{ url_for('static', filename='images/no-image.png') }}" alt="Sin imagen disponible">
                    {% endif %}
                </div>
            </div>

            <!-- INFO -->
            <div class="col-md-7">
                <div class="pd-info">

                    <!-- Meta badges -->
                    <div style="display:flex; align-items:center; gap:8px; flex-wrap:wrap; margin-bottom:6px;">
                        <span class="pd-badge-id">ID: {{ producto[0] }}</span>
                        <span class="pd-cat-badge">{{ producto[3] }}</span>
                    </div>

                    <!-- T√≠tulo -->
                    <h1 class="pd-titulo">{{ producto[1] }}</h1>

                    <hr class="pd-sep">

                    <!-- Precio -->
                    <div class="pd-precio-block">
                        <div class="pd-precio-label">Precio final</div>
                        <div class="pd-precio">
                            <span class="pd-precio-symbol">$</span>{{ "{:,.0f}".format(producto[4]).replace(",", ".") }}
                        </div>
                    </div>

                    <!-- Stock badge -->
                    {% if producto[5] == 0 %}
                        <div class="pd-stock-badge stock-out"><span class="pd-stock-dot"></span> Agotado</div>
                    {% elif producto[5] <= 5 %}
                        <div class="pd-stock-badge stock-low"><span class="pd-stock-dot"></span> √öltimas {{ producto[5] }} unidades</div>
                    {% else %}
                        <div class="pd-stock-badge stock-ok"><span class="pd-stock-dot"></span> En stock</div>
                    {% endif %}

                    <hr class="pd-sep">

                    <!-- Beneficios -->
                    <ul class="pd-beneficios">
                        <li class="pd-beneficio">
                            <img src="{{ url_for('static', filename='images/envio.png') }}" alt="Env√≠o">
                            <span class="pd-beneficio-texto">Env√≠os a todo el pa√≠s</span>
                        </li>
                        <li class="pd-beneficio">
                            <img src="{{ url_for('static', filename='images/seguro.png') }}" alt="Seguro">
                            <span class="pd-beneficio-texto">Compra segura</span>
                        </li>
                        <li class="pd-beneficio">
                            <img src="{{ url_for('static', filename='images/cuotas.png') }}" alt="Cuotas">
                            <span class="pd-beneficio-texto">6 cuotas sin inter√©s de ${{ "{:,.2f}".format((producto[4] | float) / 6).replace(",", "X").replace(".", ",").replace("X", ".") }}</span>
                        </li>
                        <li class="pd-beneficio">
                            <img src="{{ url_for('static', filename='images/garantia.png') }}" alt="Garant√≠a">
                            <span class="pd-beneficio-texto">Garant√≠a ‚Äî 12 meses</span>
                            <a class="pd-beneficio-link" href="javascript:void(0)" onclick="document.getElementById('modalGarantia').classList.add('visible')">Ver t√©rminos</a>
                        </li>
                    </ul>

                    <!-- Bot√≥n CTA -->
                    <button id="btn-agregar-{{ producto[0] }}" class="pd-btn-carrito {% if producto[5] == 0 %}disabled{% endif %}"
                        data-nombre="{{ producto[1] }}"
                        onclick="agregarAlCarrito({{ producto[0] }}, 'btn-agregar-{{ producto[0] }}')"
                        {% if producto[5] == 0 %}disabled{% endif %}>
                        {% if producto[5] > 0 %}üõí Agregar al carrito{% else %}Sin stock{% endif %}
                    </button>
                </div>
            </div>
        </div>

        <!-- DESCRIPCI√ìN -->
        <div class="pd-descripcion">
            <div class="pd-descripcion-header">
                <h2>Descripci√≥n</h2>
            </div>
            <div class="pd-descripcion-body">
                {{ producto[2]|safe }}
            </div>
        </div>
        </div>
        </div>
    </main>

    <!-- MODAL GARANT√çA Y T√âRMINOS -->
    <div class="gar-overlay" id="modalGarantia" onclick="if(event.target===this)this.classList.remove('visible')">
        <div class="gar-modal">
            <div class="gar-header">
                <div class="gar-header-left">
                    <span class="gar-icon">üõ°Ô∏è</span>
                    <h2>Garant√≠a y T√©rminos del Producto</h2>
                </div>
                <button class="gar-close" onclick="document.getElementById('modalGarantia').classList.remove('visible')">‚úï</button>
            </div>

            <!-- Garant√≠a -->
            <div class="gar-section">
                <div class="gar-section-title">
                    <span class="gar-sec-icon">üîí</span> Garant√≠a oficial
                </div>
                <p class="gar-text">
                    Todos los productos vendidos por <strong style="color:#fff;">Full Gaming</strong> cuentan con <strong style="color:#fff;">12 meses de garant√≠a</strong> a partir de la fecha de compra. La garant√≠a cubre exclusivamente defectos de fabricaci√≥n que impidan el funcionamiento normal del producto.
                </p>
                <p class="gar-text">La garant√≠a incluye:</p>
                <ul class="gar-list check">
                    <li>Fallas de hardware de origen (botones, conectores, componentes internos)</li>
                    <li>Problemas de funcionamiento que no se deban al uso del usuario</li>
                    <li>Desperfectos visibles que hayan llegado de f√°brica</li>
                    <li>Accesorios incluidos en la caja original</li>
                </ul>
            </div>

            <hr class="gar-divider">

            <!-- Condiciones de uso -->
            <div class="gar-section">
                <div class="gar-section-title">
                    <span class="gar-sec-icon">üìã</span> Condiciones de uso
                </div>
                <p class="gar-text">
                    Para que la garant√≠a sea v√°lida, el producto debe haber sido utilizado de manera normal y razonable, siguiendo las instrucciones del fabricante. Esto incluye:
                </p>
                <ul class="gar-list">
                    <li>Usar el producto en las condiciones indicadas por el fabricante</li>
                    <li>No exponer el producto a condiciones extremas de temperatura o humedad</li>
                    <li>Utilizar los cables y adaptadores provistos o compatibles certificados</li>
                    <li>Mantener el producto limpio y en un entorno adecuado</li>
                </ul>
                <div class="gar-notice info">
                    <span class="gar-n-icon">üí°</span>
                    <span>Conserv√° el comprobante de compra (n√∫mero de pedido o email de confirmaci√≥n). Es indispensable para gestionar cualquier reclamo de garant√≠a.</span>
                </div>
            </div>

            <hr class="gar-divider">

            <!-- Devoluciones y cambios -->
            <div class="gar-section">
                <div class="gar-section-title">
                    <span class="gar-sec-icon">üîÅ</span> Devoluciones y cambios
                </div>
                <p class="gar-text">
                    Pod√©s solicitar un cambio o devoluci√≥n dentro de los <strong style="color:#fff;">10 d√≠as h√°biles</strong> posteriores a la recepci√≥n del producto. Para que proceda, el producto debe:
                </p>
                <ul class="gar-list check">
                    <li>Estar sin uso y en su empaque original completo</li>
                    <li>Incluir todos los accesorios, manuales y etiquetas</li>
                    <li>No presentar signos de manipulaci√≥n, rayones o da√±o f√≠sico</li>
                </ul>
                <p class="gar-text" style="margin-top:8px;">
                    Una vez verificado el estado del producto, el reembolso se procesa en un plazo de 5 a 10 d√≠as h√°biles seg√∫n el medio de pago utilizado. Si prefer√≠s un cambio por otro producto, se ajusta la diferencia de precio si corresponde.
                </p>
            </div>

            <hr class="gar-divider">

            <!-- Exclusiones -->
            <div class="gar-section">
                <div class="gar-section-title">
                    <span class="gar-sec-icon">‚ö†Ô∏è</span> Exclusiones de garant√≠a
                </div>
                <p class="gar-text">
                    La garant√≠a <strong style="color:#e74c3c;">NO cubre</strong> da√±os producidos por las siguientes causas:
                </p>
                <ul class="gar-list cross">
                    <li>Golpes, ca√≠das o impactos f√≠sicos</li>
                    <li>Contacto con l√≠quidos, humedad excesiva o ambientes corrosivos</li>
                    <li>Mal uso, uso negligente o uso en condiciones no recomendadas</li>
                    <li>Conexi√≥n a voltajes incorrectos o sobrecargas el√©ctricas</li>
                    <li>Modificaciones, reparaciones o desarme por parte de terceros no autorizados</li>
                    <li>Desgaste natural por uso prolongado (cables, gomas, almohadillas)</li>
                    <li>Da√±os est√©ticos que no afecten la funcionalidad (rayones superficiales)</li>
                    <li>Software, configuraciones o compatibilidad con otros dispositivos</li>
                </ul>
                <div class="gar-notice warn">
                    <span class="gar-n-icon">‚ö†Ô∏è</span>
                    <span>Si el producto presenta signos de manipulaci√≥n o reparaci√≥n no autorizada, la garant√≠a queda autom√°ticamente anulada.</span>
                </div>
            </div>

            <hr class="gar-divider">

            <!-- Soporte y contacto -->
            <div class="gar-section" style="margin-bottom:0;">
                <div class="gar-section-title">
                    <span class="gar-sec-icon">üìû</span> Soporte y contacto
                </div>
                <p class="gar-text">
                    Si necesit√°s gestionar una garant√≠a, cambio o devoluci√≥n, contactanos por nuestras redes sociales o canales de atenci√≥n con la siguiente informaci√≥n:
                </p>
                <ul class="gar-list">
                    <li><strong style="color:#fff;">N√∫mero de pedido</strong> (lo encontr√°s en tu perfil o email de confirmaci√≥n)</li>
                    <li><strong style="color:#fff;">Descripci√≥n del problema</strong> con la mayor cantidad de detalle posible</li>
                    <li><strong style="color:#fff;">Fotos o videos</strong> del defecto (si aplica)</li>
                </ul>
                <div class="gar-notice info" style="margin-top:14px;">
                    <span class="gar-n-icon">ü§ù</span>
                    <span>Nuestro equipo va a responder tu consulta lo antes posible. Queremos que tu experiencia con Full Gaming sea siempre positiva.</span>
                </div>
            </div>
        </div>
    </div>

    <script>
    function agregarAlCarrito(productoId, btnId) {
        const btn = document.getElementById(btnId);
        const nombre = btn ? btn.dataset.nombre : '';
        if (btn) btn.disabled = true;

        fetch(`/agregar_carrito/${productoId}`, {
            method: 'POST',
            credentials: 'same-origin',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ cantidad: 1 })
        })
        .then(response => response.json().then(data => ({ ok: response.ok, data })))
        .then(result => {
            if (result.ok && result.data.ok) {
                mostrarNotificacion('‚úì ' + (nombre || 'Producto') + ' agregado al carrito');
                // Actualizar el contador del carrito
                if (window.actualizarContadorCarrito) {
                    window.actualizarContadorCarrito();
                }
            } else {
                mostrarNotificacion('‚ùå Error: ' + (result.data.error || 'No se pudo agregar al carrito'), true);
            }
        })
        .catch(err => {
            console.error('Error al agregar al carrito:', err);
            mostrarNotificacion('‚ùå Error de red al agregar al carrito', true);
        })
        .finally(() => { if (btn) btn.disabled = false; });
    }
    
    function mostrarNotificacion(mensaje, esError = false) {
        const notif = document.createElement('div');
        notif.className = 'notificacion' + (esError ? ' error' : '');
        notif.textContent = mensaje;
        document.body.appendChild(notif);
        setTimeout(() => {
            notif.style.animation = 'slideOut 0.3s ease-out';
            setTimeout(() => notif.remove(), 300);
        }, 3000);
    }
    </script>
    {% include 'footer.html' %}
</body>
</html>